<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Cocos2d-x 安装 · Tianchi's Blog</title><meta name="description" content="Cocos2d-x 安装 - Tian chi"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/long.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://itanch.github.io/atom.xml" title="Tianchi's Blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/long.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/ITanCh" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Cocos2d-x 安装</h1><div class="post-info">Feb 14, 2017</div><div class="post-content"><blockquote>
<p>hello cocos2d </p>
</blockquote>
<hr>
<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><p>安装环境：Mac OS X<br>运行目标：Android<br>Cocos2d版本：cocos2d-x-3.13.1，Cocos Console 2.1</p>
<a id="more"></a>
<h2 id="Cocos2d-x-安装"><a href="#Cocos2d-x-安装" class="headerlink" title="Cocos2d-x 安装"></a>Cocos2d-x 安装</h2><h3 id="1-基本工具"><a href="#1-基本工具" class="headerlink" title="1. 基本工具"></a>1. 基本工具</h3><p>安装Cocos2d-x，最基础的是安装命令行工具。在安装Cocos之前，需要一些其它基本工具：</p>
<ul>
<li>JAVA SDK</li>
<li>Android SDK</li>
<li>Android NDK</li>
<li>Apache Ant</li>
<li>Python 2.7.5</li>
</ul>
<p>这些基本工具最好已经配置在环境变量中。</p>
<h3 id="2-Cocos2d-x"><a href="#2-Cocos2d-x" class="headerlink" title="2. Cocos2d-x"></a>2. Cocos2d-x</h3><p>下载最新的<a href="http://www.cocos2d-x.org/download" target="_blank" rel="external">Cocos2d-x</a>，然后解压。找到<code>setup.py</code>，然后运行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python setup.py</div></pre></td></tr></table></figure>
<p>然后它会提醒你补足一些环境变量的绝对地址，最后在你原有的Home目录下的<code>.bash_profile</code>基础上增加一些环境变量，很贴心。</p>
<p>在我的mac上，补足的环境变量如下：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Add environment variable COCOS_CONSOLE_ROOT for cocos2d-x</span></div><div class="line"><span class="built_in">export</span> COCOS_CONSOLE_ROOT=/Users/Tianchi/Tool/cocos2d-x-3.13.1/tools/cocos2d-console/bin</div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$COCOS_CONSOLE_ROOT</span>:<span class="variable">$PATH</span></div><div class="line"></div><div class="line"><span class="comment"># Add environment variable COCOS_X_ROOT for cocos2d-x</span></div><div class="line"><span class="built_in">export</span> COCOS_X_ROOT=/Users/Tianchi/Tool</div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$COCOS_X_ROOT</span>:<span class="variable">$PATH</span></div><div class="line"></div><div class="line"><span class="comment"># Add environment variable COCOS_TEMPLATES_ROOT for cocos2d-x</span></div><div class="line"><span class="built_in">export</span> COCOS_TEMPLATES_ROOT=/Users/Tianchi/Tool/cocos2d-x-3.13.1/templates</div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$COCOS_TEMPLATES_ROOT</span>:<span class="variable">$PATH</span></div><div class="line"></div><div class="line"><span class="comment"># Add environment variable NDK_ROOT for cocos2d-x</span></div><div class="line"><span class="built_in">export</span> NDK_ROOT=/Users/Tianchi/Tool/ndk</div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$NDK_ROOT</span>:<span class="variable">$PATH</span></div><div class="line"></div><div class="line"><span class="comment"># Add environment variable ANDROID_SDK_ROOT for cocos2d-x</span></div><div class="line"><span class="built_in">export</span> ANDROID_SDK_ROOT=/Users/Tianchi/Tool/sdk</div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$ANDROID_SDK_ROOT</span>:<span class="variable">$PATH</span></div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$ANDROID_SDK_ROOT</span>/tools:<span class="variable">$ANDROID_SDK_ROOT</span>/platform-tools:<span class="variable">$PATH</span></div><div class="line"></div><div class="line"><span class="comment"># Add environment variable ANT_ROOT for cocos2d-x</span></div><div class="line"><span class="built_in">export</span> ANT_ROOT=/usr/<span class="built_in">local</span>/apache-ant-1.9.4/bin</div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$ANT_ROOT</span>:<span class="variable">$PATH</span></div></pre></td></tr></table></figure></p>
<p>是否安装成功：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ cocos -v</div><div class="line">cocos2d-x<span class="number">-3.13</span><span class="number">.1</span></div><div class="line">Cocos Console <span class="number">2.1</span></div></pre></td></tr></table></figure></p>
<h3 id="3-New-Project"><a href="#3-New-Project" class="headerlink" title="3. New Project"></a>3. New Project</h3><p>创建一个项目：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cocos new &lt;game name&gt; -p &lt;package identifier&gt; <span class="_">-l</span> &lt;language&gt; <span class="_">-d</span> &lt;location&gt;</div></pre></td></tr></table></figure>
<p>样例：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">cocos new MyGame -p com.MyCompany.MyGame <span class="_">-l</span> cpp <span class="_">-d</span> ~/MyCompany</div><div class="line"></div><div class="line">cocos new MyGame -p com.MyCompany.MyGame <span class="_">-l</span> lua <span class="_">-d</span> ~/MyCompany</div><div class="line"></div><div class="line">cocos new MyGame -p com.MyCompany.MyGame <span class="_">-l</span> js <span class="_">-d</span> ~/MyCompany</div></pre></td></tr></table></figure></p>
<p>编译项目：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cocos compile <span class="_">-s</span> &lt;path to your project&gt; -p &lt;platform&gt; -m &lt;mode&gt; -o &lt;output directory&gt;</div></pre></td></tr></table></figure>
<p>样例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">cocos compile <span class="_">-s</span> ~/MyCompany/MyGame -p ios -m release -o ~/MyCompany/MyGame/bin</div><div class="line"></div><div class="line">cocos compile <span class="_">-s</span> ~/MyCompany/MyGame -p android -m release -o ~/MyCompany/MyGame/bin</div><div class="line"></div><div class="line">cocos compile <span class="_">-s</span> c:\MyCompany\MyGame -p win32 -m release -o c:\MyCompany\MyGame\bin</div></pre></td></tr></table></figure>
<p>编译Android应用，需要指定目标版本<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cocos compile -p android --ap android-22</div></pre></td></tr></table></figure></p>
<p>编译成功后，就会在项目目录下的<code>proj.android/bin</code>下发现apk文件，可以进行安装。</p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/02/14/UbuntuPPTPD配置/" class="prev">上一篇</a><a href="/2016/01/15/AngularJS学习/" class="next">下一篇</a></div><div data-thread-key="2017/02/14/cocos2d-x安装/" data-title="Cocos2d-x 安装" data-url="http://itanch.github.io/2017/02/14/cocos2d-x安装/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"tianchi"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2016 - 2017 <a href="http://itanch.github.io">Tian chi</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>