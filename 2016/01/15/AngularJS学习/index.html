<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> AngularJS--SB Admin · Tianchi's Blog</title><meta name="description" content="AngularJS--SB Admin - Tian chi"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://itanch.github.io/atom.xml" title="Tianchi's Blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/biglogo.jpg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/ITanCh" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">AngularJS--SB Admin</h1><div class="post-info">Jan 15, 2016</div><div class="post-content"><p>从SB Admin开始学习AngularJS!</p>
<p><a href="https://github.com/start-angular/sb-admin-angular" target="_blank" rel="external">SB Admin v2.0 rewritten in AngularJS</a>是一个SB Admin的AngularJS的实现，源代码、安装和运行可以参考以上链接。</p>
<h2 id="一些工具"><a href="#一些工具" class="headerlink" title="一些工具"></a>一些工具</h2><p><a href="https://nodejs.org" target="_blank" rel="external">Nodejs</a>升级：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo npm cache clean <span class="_">-f</span></div><div class="line">$ sudo npm install -g n</div><div class="line">$ sudo n stable</div><div class="line">$ sudo ln -sf /usr/<span class="built_in">local</span>/n/versions/node/&lt;VERSION&gt;/bin/node /usr/bin/node</div></pre></td></tr></table></figure></p>
<p>npm升级：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo npm install --global npm@latest</div></pre></td></tr></table></figure>  </p>
<p><a href="http://bower.io/" target="_blank" rel="external">Bower</a>是一个对web开发进行包管理的工具。  </p>
<p><a href="http://www.gruntjs.net/" target="_blank" rel="external">GRUNT</a>的目的就是自动化。对于需要反复重复的任务，例如压缩（minification）、编译、单元测试、linting等，自动化工具可以减轻你的劳动，简化你的工作。当你在 Gruntfile 文件正确配置好了任务，任务运行器就会自动帮你或你的小组完成大部分无聊的工作。  </p>
<p><a href="http://yeoman.io/" target="_blank" rel="external">Yeoman</a>生成web应用的基本架构。<br><a id="more"></a></p>
<h2 id="Yeoman入门"><a href="#Yeoman入门" class="headerlink" title="Yeoman入门"></a>Yeoman入门</h2><p><img src="http://7xky03.com1.z0.glb.clouddn.com/yeoman.png" alt="yeoman">  </p>
<h3 id="1-安装Bower、GRUNT和Yeoman："><a href="#1-安装Bower、GRUNT和Yeoman：" class="headerlink" title="1. 安装Bower、GRUNT和Yeoman："></a>1. 安装Bower、GRUNT和Yeoman：</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo npm install --global yo bower grunt-cli</div></pre></td></tr></table></figure>
<h3 id="2-安装generator"><a href="#2-安装generator" class="headerlink" title="2. 安装generator"></a>2. 安装generator</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo npm install --global generator-karma generator-angular</div></pre></td></tr></table></figure>  
<h3 id="3-运行generator"><a href="#3-运行generator" class="headerlink" title="3. 运行generator"></a>3. 运行generator</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ yo angular</div></pre></td></tr></table></figure>
<h3 id="4-Yeoman总结"><a href="#4-Yeoman总结" class="headerlink" title="4. Yeoman总结"></a>4. Yeoman总结</h3><p>Yeoman确实是一个很强大的web应用架构工具，他可以帮你完成大部分繁琐的工作，从而你可以更专心的实现你的功能。</p>
<h2 id="源代码分析"><a href="#源代码分析" class="headerlink" title="源代码分析"></a>源代码分析</h2><h3 id="1-index-html"><a href="#1-index-html" class="headerlink" title="1. index.html"></a>1. index.html</h3><p>位于app/目录下的index.html是整个网页的主要入口。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-app</span>=<span class="string">"sbAdminApp"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">ui-view</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="2-app-js"><a href="#2-app-js" class="headerlink" title="2. app.js"></a>2. app.js</h3><p>位于app/scripts/目录下，应用的主要module。  </p>
<p><strong>module</strong><br>首先，我们可以看到sbAdminApp使用了如下module：  </p>
<ul>
<li><strong>oc.lazyLoad</strong>：自动的加载一些module。</li>
<li><strong>ui.router</strong>：AngularUI Router是一个路由框架，可以利用它将应用接口组织成为一个有穷状态机，不同于Angular自带的<code>$route</code>（根据URL进行路由），UI-Router则是根据状态进行路由。  </li>
<li><strong>ui.bootstrap</strong>：用AngularJS开发的Bootstrap组件。  </li>
</ul>
<p><strong>config</strong><br><strong>stateProvider</strong>：由<em>ui.router</em>提供，功能类似于Angular v1的router，但是它只专注于state。state就是应用中的某一个状态，到达某一个状态时，会将template插入到相应位置。该部分的主要工作是将state、html和controller对应起来。</p>
<p><code>resolve</code>可以提供给controller一些定制的内容，采用<code>key:value</code>的格式。在这里，使用ocLazyLoad加载了一些模块。</p>
<p>首先加载的是<code>sbAdminApp</code>模块中的header部分，然后依次为header-notification、sidebar和sidebar-search。这些部分在加载的过程中，采用了<code>module.directive</code>函数，这个函数可以对指定的元素附加一些行为，如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">'sbAdminApp'</span>)</div><div class="line">.directive(<span class="string">'header'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">			<span class="attr">templateUrl</span>:<span class="string">'scripts/directives/header/header.html'</span>,</div><div class="line">			<span class="attr">restrict</span>: <span class="string">'E'</span>,</div><div class="line">			<span class="attr">replace</span>: <span class="literal">true</span>,</div><div class="line">		&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><br>这里就是在<code>main.html</code>的<code>&lt;header&gt;&lt;/header&gt;</code>元素替换为<code>header.html</code>的内容。  </p>
<p>从源代码中不难发现，header、header-notification、sidebar和sidebar-search文件的加载是按照一定的顺序的，因为前后顺序在View中表现为嵌套的父子关系。</p>
<p>然后，加载了<code>toggle-switch</code>，一个开关模块；<code>ngAnimate</code>，动画效果；<code>ngCookies</code>，读写浏览器cookies；<code>ngResource</code>，加载资源对象；<code>ngSanitize</code>，可以对HTML进行清洁；<code>ngTouch</code>，对可触摸设备提供服务。</p>
<p>其它state类似。</p>
<p><strong>ocLazyLoadProvider</strong>：来自于<em>oc.lazyLoad</em>，<code>events:true</code>可以使得加载module时可以发送广播。  </p>
<p> <strong>urlRouterProvider</strong>：由<em>ui.router</em>提供，在这里只是用它来处理其它状态下的情况，统一重定向至<code>/dashboard/home</code>。</p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/02/14/cocos2d-x安装/" class="prev">PREV</a><a href="/2015/11/16/MESOS安装/" class="next">NEXT</a></div><div data-thread-key="2016/01/15/AngularJS学习/" data-title="AngularJS--SB Admin" data-url="http://itanch.github.io/2016/01/15/AngularJS学习/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"tianchi"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2016 - 2017 <a href="http://itanch.github.io">Tian chi</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>